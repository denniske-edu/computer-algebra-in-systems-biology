/*
 * Grammar, which recognizes simple arithmetic expressions with + and * like "2*(3+4)".
 */

{

var Add = (function () {
  function Add(left, right) { this._ = "Add"; this.left = left; this.right = right; }
  return Add;
})();


var Mult = (function () {
  function Mult(left, right) { this._ = "Mult"; this.left = left; this.right = right; }
  return Mult;
})();

var Expression = (function () {
  function Expression(child) { this._ = "Expression"; this.child = child; }
  return Expression;
})();

}


start
  = expression:additive { return new Expression(expression) }

additive
  = left:multiplicative "+" right:additive { return new Add(left, right) }
  / multiplicative

multiplicative
  = left:primary "*" right:multiplicative { return new Mult(left, right) }
  / primary

primary
  = integer
  / "(" additive:additive ")" { return additive; }

integer "integer"
  = digits:[0-9]+ { return parseInt(digits.join(""), 10); }
  / letters:[a-zA-Z_]+ { return letters.join(''); }